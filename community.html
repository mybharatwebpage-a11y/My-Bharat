<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Community | My Bharat</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --brand:#2b0a06;
  --accent:#d9a441;
  --bg:#fff7ec;
  --card:#fffbe6;
}

body{
  margin:0;
  font-family:Poppins,Arial,sans-serif;
  background:var(--bg);
  color:#3b1f05;
}

/* HEADER */
header{
  width:100%;
  background:linear-gradient(90deg,var(--brand),#5c2e07);
  box-shadow:0 3px 12px rgba(0,0,0,0.25);
  padding:12px 24px;
  position:sticky;
  top:0;
  z-index:2000;
  display:flex;
  justify-content:space-between;
  align-items:center;
  flex-wrap:wrap;
}
.logo{
  display:flex;
  align-items:center;
  gap:12px;
}
.logo img{
  width:48px;
  height:48px;
  border-radius:50%;
  border:2px solid var(--accent);
  background:white;
}
.logo span{
  color:var(--accent);
  font-weight:700;
  font-size:1.25rem;
}
nav.navbar{
  display:flex;
  gap:16px;
  flex-wrap:wrap;
}
nav a,.dropbtn{
  color:#fff;
  font-weight:500;
  text-decoration:none;
  background:none;
  border:none;
  cursor:pointer;
  padding:10px 16px;
  border-radius:6px;
  font-size:1.05rem;
}
nav a:hover,.dropbtn:hover{
  color:var(--accent);
  background:rgba(255,255,255,0.08);
}
.dropdown{position:relative}
.dropdown-content{
  display:none;
  position:absolute;
  right:0;
  background:#fffaf0;
  min-width:180px;
  border-radius:6px;
  box-shadow:0 6px 16px rgba(0,0,0,0.2);
  padding:6px 0;
}
.dropdown-content a{
  display:block;
  padding:10px 14px;
  color:#4b2e05;
}
.dropdown:hover .dropdown-content{display:block}

/* SECTION */
section{
  max-width:800px;
  margin:40px auto;
  padding:0 16px;
}
.section-title{
  font-size:2rem;
  color:var(--brand);
  margin-bottom:18px;
}

/* FORM */
.card{
  background:var(--card);
  border:2px solid var(--accent);
  border-radius:16px;
  padding:20px;
  box-shadow:0 6px 16px rgba(0,0,0,.15);
}

input,textarea,button{
  width:100%;
  padding:12px;
  margin:10px 0;
  border-radius:8px;
  border:1px solid #ccc;
  font-family:inherit;
}
textarea{min-height:100px}
button{
  background:var(--accent);
  border:none;
  font-weight:600;
  cursor:pointer;
}
button:hover{opacity:.9}

.preview img{
  width:100%;
  max-height:250px;
  object-fit:cover;
  border-radius:12px;
  margin-top:10px;
}

/* FOOTER */
footer{
  background:linear-gradient(90deg,#2b0a06,#5c2e07);
  color:var(--accent);
  padding:20px 0;
  margin-top:50px;
}
.footer-container{
  max-width:1000px;
  margin:auto;
  display:flex;
  justify-content:space-between;
  padding:0 20px;
  flex-wrap:wrap;
  align-items:center;
}
footer a{
  color:#ffd567;
  text-decoration:none;
  font-weight:600;
}
</style>
</head>

<body>

<header>
  <div class="logo">
    <img src="logo.png" alt="Logo">
    <span>My Bharat</span>
  </div>
  <nav class="navbar">
    <a href="index.html">Home</a>
    <a href="facts.html">Facts</a>
    <a href="media.html">Media</a>
    <a href="about.html">About</a>
  </nav>
</header>

<section>
  <h2 class="section-title">üßë‚Äçü§ù‚Äçüßë Upload Your Culture</h2>

  <!-- ‚úÖ FIXED FORM -->
  <form id="uploadForm" class="card">

    <input type="text" id="title" placeholder="Title (e.g. Pongal Celebration)" required>

    <textarea id="desc" placeholder="Describe the cultural significance..." required></textarea>

    <input type="file" id="image" accept="image/*" required>

    <div class="preview" id="preview"></div>

    <button type="submit">Submit for Approval</button>
  </form>
</section>

<footer>
  <div class="footer-container">
    <div><a href="about.html">About Us</a></div>
    <div>¬© 2025 My Bharat | Unity In Our Hearts ‚ù§Ô∏è</div>
    <div><a href="contactus.html">Contact Us</a></div>
  </div>
</footer>

<script>
const form = document.getElementById("uploadForm");
const preview = document.getElementById("preview");

document.getElementById("image").addEventListener("change", function(){
  preview.innerHTML = "";
  const file = this.files[0];
  if(!file) return;

  const reader = new FileReader();
  reader.onload = () => {
    const img = document.createElement("img");
    img.src = reader.result;
    preview.appendChild(img);
  };
  reader.readAsDataURL(file);
});

form.addEventListener("submit", function(e){
  e.preventDefault();

  const title = titleInput = document.getElementById("title").value.trim();
  const desc = document.getElementById("desc").value.trim();
  const imageFile = document.getElementById("image").files[0];

  if(!title || !desc || !imageFile){
    alert("Please fill all fields");
    return;
  }

  const reader = new FileReader();
  reader.onload = function(){
    const post = {
      title,
      desc,
      image: reader.result,
      date: new Date().toLocaleString()
    };

    const pending = JSON.parse(localStorage.getItem("pendingPosts")) || [];
    pending.push(post);
    localStorage.setItem("pendingPosts", JSON.stringify(pending));

    alert("‚úÖ Post submitted for admin approval");
    form.reset();
    preview.innerHTML = "";
  };

  reader.readAsDataURL(imageFile);
});
</script>

</body>
</html>
